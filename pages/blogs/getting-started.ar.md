---
title: البدء مع Alirator
date: 2024-06-15
excerpt: دليل خطوة بخطوة لإعداد موقعك وتخصيصه ونشره باستخدام قالب Alirator.
tags: [دليل, البداية]
---

# البدء مع Alirator

Alirator هو قالب موقع شخصي ثنائي اللغة (عربي/إنجليزي) يعمل بالكامل من ملفات ثابتة. كل شيء يُتحكَّم به من ملف `config.yaml` واحد، والمحتوى يُكتب بصيغة Markdown. هذا الدليل يشرح الإعداد والتخصيص وإنشاء المحتوى والنشر.

## 1. الاستنساخ والتشغيل

```bash
git clone https://github.com/AliOsm/alirator.git my-site
cd my-site
bash dev.sh
```

افتح `http://localhost:6570` لمعاينة الموقع. ملف `dev.sh` يبني فهارس المجموعات ويشغّل خادمًا محليًا.

> **متطلب:** يجب تثبيت Ruby 2.7 أو أحدث (لا يستخدم أي اعتماديات خارجية).

## 2. إعداد الموقع

افتح ملف `config.yaml`. هذا الملف الوحيد يتحكم في موقعك بالكامل:

### هوية الموقع

```yaml
siteName:
  en: Your Name
  ar: اسمك
defaultLang: ar
```

`defaultLang` يحدد اللغة التي تُعرض أولًا.

### السمة

```yaml
theme:
  accent: "#2D5A27"
```

غيّر اللون لتعيين لون الموقع الأساسي. أيقونة الموقع (favicon) تُولَّد تلقائيًا من هذا اللون والحرف الأول من اسم الموقع.

### الملف الشخصي

```yaml
author:
  avatar: assets/author.svg
  name:
    en: Your Name
    ar: اسمك
  bio:
    en: A short bio about yourself.
    ar: نبذة مختصرة عنك.
  location: Earth
  website:
    label: yoursite
    url: "#home"
  social:
    - platform: github
      url: https://github.com/username
      label: GitHub
```

الشريط الجانبي يعرض الصورة والاسم والنبذة والموقع وروابط التواصل. المنصات المدعومة: `github`، `linkedin`، `twitter`، `instagram`، `email`، وأي رابط آخر (يظهر بأيقونة رابط).

### التذييل

```yaml
footer:
  en: "&copy; {year} Your Name. All rights reserved."
  ar: "&copy; {year} اسمك. جميع الحقوق محفوظة."
```

`{year}` يُستبدل بالسنة الحالية تلقائيًا.

### تحسين محركات البحث (SEO)

```yaml
seo:
  description:
    en: Personal website and blog.
    ar: الموقع الشخصي والمدونة.
  image: ""
```

هذه القيم تملأ وسوم Open Graph و Twitter Card.

## 3. الصفحات

الصفحات الثابتة موجودة في `pages/` كملفات Markdown بتنسيق `slug.lang.md` (مثل `home.ar.md`، `contact.en.md`).

سجّل كل صفحة في `config.yaml`:

```yaml
pages:
  - [home, الرئيسية, Home]
  - [contact, تواصل, Contact]
  - [publications, المنشورات, Publications]
```

التنسيق هو `[slug, العنوان العربي, English title]`. هذه العناوين تظهر في شريط التنقل.

### صفحات خاصة بلغة واحدة

استخدم `~` (null في YAML) لجعل صفحة متاحة بلغة واحدة فقط:

```yaml
pages:
  - [resume, ~, Resume]          # إنجليزي فقط
  - [about, نبذة عني, ~]         # عربي فقط
```

الصفحة ذات القيمة `~` تُخفى من شريط التنقل عندما تكون تلك اللغة مفعّلة.

## 4. التدوينات والمقالات

القالب يدعم نوعين من المجموعات:

- **المدونة** (`pages/blogs/`) — تُعرض كبطاقات مع صور غلاف
- **المقالات** (`pages/posts/`) — تُعرض كقائمة مختصرة

### إنشاء عنصر جديد

أنشئ ملف Markdown في مجلد المجموعة مع بياناته كالتالي:

```yaml
---
title: أول تدوينة لي
date: 2024-06-15
excerpt: وصف مختصر يظهر في صفحة القائمة.
tags: [دليل, ويب]
cover: /path/to/image.jpg
---

المحتوى هنا بصيغة Markdown...
```

- `title` و `date` مطلوبان
- `excerpt` يظهر في صفحات القوائم
- `tags` تظهر كوسوم على البطاقات وداخل الصفحات
- `cover` اختياري (يُستخدم كخلفية للبطاقة في مجموعات المدونة)

### عناصر ثنائية اللغة

أنشئ `slug.ar.md` و `slug.en.md` في نفس المجلد. زر تبديل اللغة يظهر تلقائيًا عندما تتوفر النسختان.

### بناء الفهارس

بعد إضافة أو تعديل أو حذف العناصر، أعد بناء الفهارس:

```bash
ruby build.rb
```

هذا يولّد ملفات `_manifest.json` التي تُشغّل صفحات القوائم. ملف `dev.sh` يشغّل هذا الأمر تلقائيًا أيضًا.

## 5. إعدادات المجموعات

```yaml
collections:
  - [blogs, المدونة, Blogs, blog]
  - [posts, المقالات, Posts, post]
```

التنسيق هو `[slug, العنوان العربي, English title, type]`. النوع (`type`) يتحكم في طريقة العرض:

- `blog` — عرض بطاقات مع صور غلاف وتواريخ ومقتطفات ووسوم
- `post` — قائمة مختصرة مع تواريخ ومقتطفات

## 6. بنية المشروع

```
alirator/
├── index.html          # صفحة HTML الوحيدة
├── app.js              # منطق التطبيق
├── style.css           # الأنماط
├── config.yaml         # جميع إعدادات الموقع
├── build.rb            # مولّد الفهارس
├── dev.sh              # سكربت التطوير المحلي
├── assets/             # الصورة، الأيقونة، الصور
└── pages/
    ├── home.ar.md      # صفحات ثابتة
    ├── home.en.md
    ├── blogs/          # التدوينات
    │   └── my-post.ar.md
    └── posts/          # المقالات القصيرة
        └── my-post.en.md
```

## 7. النشر

### GitHub Pages

المستودع يتضمن GitHub Actions workflow. عند رفع التعديلات إلى `main` يتم التالي:

1. بناء فهارس المجموعات
2. إضافة hash لملفات `style.css` و `app.js` لكسر التخزين المؤقت
3. النشر على GitHub Pages

للتفعيل: اذهب إلى **Settings → Pages → Source → GitHub Actions** في إعدادات المستودع.

### استضافات أخرى

الموقع مجرد ملفات ثابتة. ارفع المجلد إلى أي استضافة — Netlify، Vercel، Cloudflare Pages، أو أي خادم ويب.

## 8. مزايا مدمجة

- **تلوين الشيفرات البرمجية** — الأكواد تُلوَّن تلقائيًا عبر highlight.js
- **رسوم Mermaid البيانية** — استخدم كتل <code dir="ltr">```mermaid</code> لرسم المخططات
- **تبديل اللغة** — يظهر تلقائيًا عندما تتوفر الصفحة بكلتا اللغتين
- **دعم RTL** — الصفحات العربية تُعيّن <code dir="ltr">dir="rtl"</code> تلقائيًا على المستند
- **شريط جانبي متجاوب** — يتحول إلى قائمة منسدلة على الشاشات الصغيرة
- **تخزين مؤقت للصفحات** — ملفات Markdown تُجلب مرة واحدة وتُخزَّن في الذاكرة

## 9. استخدام لغات أخرى

القالب مصمم للعربية والإنجليزية افتراضيًّا، لكنه يدعم أي زوج من اللغات:

1. حدّث رموز اللغات في `build.rb` (دالة `extract_slug_and_lang`) و `app.js`
2. عدّل `langDir` في `config.yaml` لتحديد اتجاه كل لغة
3. غيّر خطوط Google Fonts في `index.html` لتناسب اللغات الجديدة
